<div class="details" *ngIf="campaign">
  <div class="listing-button">
    <button mat-icon-button class="listing-button__button" routerLink="/christmas-challenge-2019">
      <mat-icon class="listing-button__icon" aria-hidden="false" aria-label="Back">keyboard_arrow_left</mat-icon>
      All participating campaigns
    </button>
  </div>

  <div fxLayout="row" fxLayout.xs="column">
    <div class="campaign-header">
      <h4 class="charity-name">{{ campaign.charity.name }}</h4>
      <h3 class="campaign-title">{{ campaign.title }}</h3>
      <p class="campaign-description">{{campaign.summary}}</p>
      <button mat-raised-button class="donate-button" [routerLink]="'/donate/' + campaign.id" *ngIf="donateEnabled">
        Donate
      </button>
      <p *ngIf="!donateEnabled">Donations open {{ campaign.startDate | date : 'h:mm a, d LLLL' }} to {{ campaign.endDate | date : 'h:mm a, d LLLL' }}</p>
    </div>

    <div class="campaign-card">
      <app-campaign-details-card [campaign]="campaign"></app-campaign-details-card>
    </div>
  </div>

  <div *ngIf="campaign.budgetDetails.length > 0 || campaign.alternativeFundUse" fxLayout="row">
    <div class="campaign-tabs">
      <mat-tab-group animationDuration="0ms" color="accent">
        <mat-tab label="Campaign overview">
          <div class="campaign-tabs__details">
            <p><!-- Some of Situation / Solution to go here --></p>
          </div>

          <div *ngIf="clientSide && campaign.additionalImageUris.length > 0">
            <mat-carousel
              timings="250ms ease-in"
              [autoplay]="true"
              interval="5000"
              color="white"
              maxWidth="auto"
              proportion="20"
              slides="5"
              [loop]="true"
              [hideArrows]="true"
              [hideIndicators]="false"
              [useKeyboard]="true"
              [useMouseWheel]="false"
              orientation="ltr"
            >
              <mat-carousel-slide
                *ngFor="let image of campaign.additionalImageUris"
                [image]="image.uri"
                [hideOverlay]="false"
              ></mat-carousel-slide>
            </mat-carousel>
          </div>
        </mat-tab>

        <mat-tab *ngIf="campaign.updates.length > 0" label="Updates">
          <ul *ngFor="let update of campaign.updates">
            <li><h4>{{ update.modifiedDate | date : 'longDate' }}</h4></li>
            <li>{{ update.content }}</li>
          </ul>
        </mat-tab>

        <mat-tab *ngIf="campaign.quotes.length > 0" label="Quotes">
          <ul>
            <li *ngFor="let quote of campaign.quotes">
              <blockquote>{{ quote.quote }}&quot;</blockquote>
              <h4 class="attribution">&ndash; {{ quote.person }}</h4>
            </li>
          </ul>
        </mat-tab>

        <mat-tab *ngIf="campaign.budgetDetails.length > 0" label="Where's the money going?">
          <ul *ngFor="let detail of campaign.budgetDetails">
            <li><h4>{{ detail.amount | currency : 'Â£' : 'symbol' : '1.0-0' }}</h4></li>
            <li>{{ detail.description }}</li>
          </ul>

          <div *ngIf="campaign.alternativeFundUse">
            <h4>Understanding the target</h4>
          </div>
          <div class="campaign-tabs__details">
            <p>{{ campaign.alternativeFundUse }}</p>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>

</div>
